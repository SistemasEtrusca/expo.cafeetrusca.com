<!DOCTYPE html>
<html lang="es-MX">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <title>Expo Proveedores del Restaurante en Monterrey</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="
https://cdn.jsdelivr.net/npm/sweetalert2@11.17.2/dist/sweetalert2.all.min.js
"></script>
    <link href="
https://cdn.jsdelivr.net/npm/sweetalert2@11.17.2/dist/sweetalert2.min.css
" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5549375.js"></script>
    <link href="style.css/?v=2.00000001" rel="stylesheet">
</head>

<body>
    <header>
        <nav class="navbar bg-body-tertiary">
            <div class="container">
                <a class="navbar-brand" href="https://cafeetrusca.com/" target="_blank">
                    <img src="/assets/logo_etruscab.png" alt="Logo Café Etrusca" id="logo" width="50px"
                        class="img-fluid">
                </a>
            </div>
        </nav>
    </header>

    

    <div class="container">
        <h1 class="pt-2 px-2 text-center">Expo Proveedores del Restaurante en Monterrey 2025</h1>
        <!-- <h2 class="pt-0 px-2 text-center"> Experiencia sensorial </h2> -->
    </div>
    <div class="container my-4" id="app">
        <form id="myForm" name="expo" method="post">
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="first_name">Nombre</label>
                    <input type="text" v-model="formData.first_name" class="form-control" id="first_name"
                        placeholder="Ingresa tu nombre" required>
                    <span v-if="errors.first_name" class="text-danger">{{ errors.first_name }}</span>
                </div>
            </div>
            <!-- Apellido -->
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="fatherlastname">Apellidos</label>
                    <input type="text" v-model="formData.fatherlasname" class="form-control" id="fatherlastname"
                        placeholder="Ingresa tu apellido" required>
                    <span v-if="errors.fatherlastname" class="text-danger">{{ errors.fatherlastname }}</span> 
                </div>
            </div>
            <!-- City -->
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="ciudad">Ciudad</label>
                    <input type="text" v-model="formData.municipio" class="form-control" id="municipio" placeholder="Ciudad"
                        required>
                    <span v-if="errors.municipio" class="text-danger">{{ errors.municipio }}</span>
                </div>
            </div>
            <!-- State -->
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="ciudad">Estado</label>
                    <input type="text" v-model="formData.ciudad" class="form-control" id="ciudad" placeholder="Estado"
                        required>
                    <span v-if="errors.ciudad" class="text-danger">{{ errors.ciudad }}</span>
                </div>
            </div>
            <!-- Codigo Postal                      -->
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="codigopostal">Código Postal</label>
                    <input type="text" v-model="formData.codigopostal" class="form-control" id="codigopostal" placeholder="5 dígitos"
                    pattern="[0-9]{5}"    required>
                    <span v-if="errors.codigopostal" class="text-danger">{{ errors.codigopostal }}</span>
                </div>
            </div>
            <!-- Teléfono o WhatsApp -->
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="telephone">Teléfono o WhatsApp</label>
                    <input type="tel" v-model="formData.telephone" class="form-control" id="telephone" placeholder="10 dígitos"
                        pattern="[0-9]{10}" required>
                    <small class="form-text text-muted">Debe contener 10 números</small>
                    <span v-if="errors.telephone" class="text-danger">{{ errors.telephone }}</span>
                </div>
            </div>
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="email">Correo Electrónico</label>
                    <input type="email" v-model="formData.email" class="form-control" id="email" placeholder="email"
                        required>
                    <small class="form-text text-muted"></small>
                    <span v-if="errors.email" class="text-danger">{{ errors.email }}</span>
                </div>
            </div>
           
            <div class="col-xs-3 mx-2">
                 <div class="col-xs-4">
                <!-- Curso o taller -->
                    <div class="form-group">
                        <h4 class="px-3">Productos de interés</h4>
                        <div class="mx-3 form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="insumos" name="insumos">
                            <label class="form-check-label" for="flexSwitchCheckDefault">Insumos</label>
                        </div>
                        <div class="mx-3 form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="accesorios" name="accesorios">
                            <label class="form-check-label" for="flexSwitchCheckDefault">Accesorios</label>
                        </div>
                        <div class="mx-3 form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="maquinas" name="maquinas">
                            <label class="form-check-label" for="flexSwitchCheckDefault">Máquinas</label>
                        </div>
                        <div class="mx-3 form-check form-switch">
                            <input class="form-check-input" type="checkbox" name="cursos" id="cursos">
                            <label class="form-check-label" for="flexSwitchCheckDefault">Cursos y
                                talleres</label>
                        </div>
                    </div> 
                 </div>


                <!-- Tipo de sector xx -->
                <div class="form-group mb-3">
                    <h4 class="px-3">Información de negocio</h4>
                    <label class="mx-3" for="ifNegocio">¿Tienes un negocio?</label>
                    <select class="form-control px-3" id="ifNegocio" v-model="formData.ifNegocio" required>
                        <option value="">Selecciona una opción</option>
                        <option value="cafeteria">Sí</option>
                        <option value="restaurante">No</option>
                    </select>
                </div>
                <div class="form-group mb-3">
                    <label class="mx-3" for="tipo_negocio">Sector del negocio</label>
                    <select class="form-control px-3" id="tipo_negocio" v-model="formData.tipo_negocio" required>
                        <option value="">Selecciona una opción</option>
                        <option value="cafeteria">Cafetería</option>
                        <option value="restaurante">Restaurante</option>
                        <option value="hoteles">Hoteles</option>
                        <option value="reventa">Reventa</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>

                <div class="form-group mb-3">
                    <label class="mx-3" for="name_negocio">¿Cuál es el nombre de tu negocio?</label>
                    <input type="text" class="form-control" id="name_negocio" placeholder="Ingresa el nombre"
                        v-model="formData.name_negocio">
                    <span v-if="errors.name_negocio" class="text-danger">{{ errors.last_name }}</span>
                </div>
            </div>
            
            <div class="col-md-12">
                <div class="form-group">
                    <label class="px-3" for="curso">
                        Fecha de taller en el Cedis de Monterrey
                    </label>
                    <select class="form-control px-3" id="curso" v-model="formData.curso">
                        <option value="">Selecciona una fecha</option>

                        <optgroup label="Formación de emprendedores">
                            <option value="emprendedores-julio">17 y 18 julio 9:00 a.m</option>
                        </optgroup>

                        <optgroup label="Bubble tea básico">
                            <option value="bubble-basico-julio">22 julio 10:00 a.m</option>
                            <option value="bubble-basico-agosto">28 agosto 10:00 a.m</option>
                            <option value="bubble-basico-septiembre">25 septiembre 10:00 a.m</option>
                        </optgroup>

                        <optgroup label="Bubble tea especializado">
                            <option value="bubble-especializado-julio">23 julio 10:00 a.m</option>
                            <option value="bubble-especializado-agosto">29 agosto 10:00 a.m</option>
                            <option value="bubble-especializado-septiembre">26 septiembre 10:00 a.m</option>
                        </optgroup>

                        <optgroup label="Formación para un barista">
                            <option value="barista-julio">3 julio 10:00 a.m</option>
                            <option value="barista-agosto">19 agosto 10:00 a.m</option>
                        </optgroup>

                        <optgroup label="Arte latte">
                            <option value="latte-julio">16 julio 10:00 a.m</option>
                            <option value="latte-septiembre">23 septiembre 10:00 a.m</option>
                        </optgroup>

                        <optgroup label="Mixología">
                            <option value="mixologia-agosto">13 agosto 10:00 a.m</option>
                        </optgroup>

                        <optgroup label="Brew & cold brew">
                            <option value="brew-agosto">12 agosto 10:00 a.m</option>
                        </optgroup>
                    </select>
                </div>
            </div>

            <!-- 

            
            
            
            
            -->

            
            <!-- Especificaciones                     
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="especifica">Especificaciones</label>
                    <input type="text" v-model="formData.especipica" class="form-control" id="especifica" placeholder="Ingrese sus especificaciones"
                        required>
                    <span v-if="errors.especifica" class="text-danger">{{ errors.codigopostal }}</span>
                </div>
            </div> 

             -->
            <!-- Observaciones                      -->
            <div class="col-xs-3 mx-2">
                <div class="form-group mb-3">
                    <label for="message">Observaciones</label>
                    <textarea  v-model="formData.message" class="form-control" id="message" placeholder="Comentarios"
                        required>
                    </textarea>
                    <span v-if="errors.message" sclass="text-danger">{{ errors.message }}</span>
                </div>
            </div>

            


            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-6">
                        <!-- Checkbox de suscribirse Newsletter -->
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="inputNewsletter"
                                v-model="formData.newsletter" checked>
                            <label class="form-check-label" for="inputNewsletter">Suscríbete a nuestro
                                newsletter</label>

                        </div>
                    </div>

                    <div class="col-md-6">
                        <!-- Botón de enviar -->
                        <button type="submit" class="btn btn-primary" id="botonenviar"
                            @click.prevent="submitForm($event)">Enviar</button>
                    </div>
                </div>
            </div>
        </form>
    </div>


    <footer class="container-fluid">
        <div class="text-center">
            <a href="https://cafeetrusca.com/aviso-de-privacidad" target="_blank" class="aviso">Consulta
                nuestro aviso
                de privacidad</a>
        </div>
    </footer>

    
    <!-- Library para íconos-->
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Código de Javascript -->
    <!-- <script src="index.js?v=1.00000000111111913"></script> -->

    <script type="text/javascript"
        src="https://api.clientify.net/web-marketing/webforms/external/script/230797.js"></script>


    <script>
       

        const app = Vue.createApp({
            data() {
                return {
                    formData: {
                        user_id: "",
                        first_name: "",
                        fatherlasname: "",
                        motherlastname: "",
                        telephone: "",
                        email: "",
                        municipio: "",
                        codigopostal: "",
                        ciudad: "",
                        productos: [],
                        tipo_negocio: "",
                        name_negocio: "",
                        message: "",
                        newsletter: true,
                        curso: "",
                    },
                    errors: {},
                };
            },

            methods: {

                

                validateForm() {
                    const botonen = document.getElementById('botonenviar')
                    this.errors = {};
                    let valid = true;

                    if (!this.formData.first_name) {
                        this.errors.first_name = 'El nombre es obligatorio.';
                        valid = false;
                        botonen.disabled = false;
                    }
                    if (!this.formData.fatherlasname) {
                        this.errors.fatherlastname = 'El apellido es obligatorio.';
                        valid = false;
                        botonen.disabled = false;
                    }
                    if (!this.formData.telephone || !/^\d{10}$/.test(this.formData.telephone)) {
                        this.errors.telephone = 'El teléfono debe contener 10 dígitos.';
                        valid = false;
                        botonen.disabled = false;
                    }
                    if (!this.formData.municipio) {
                        this.errors.municipio = 'La ciudad es obligatoria.';
                        valid = false;
                        botonen.disabled = false;
                    }
                    if (!this.formData.ciudad) {
                        this.errors.ciudad = 'El estado es obligatorio.';
                        valid = false;
                        botonen.disabled = false;
                    }
                    return valid;

                },

                


                submitForm(event) {
                    const botonen = document.getElementById('botonenviar')
                    botonen.disabled = true;
                    event.preventDefault(); // Evita el envío predeterminado del formulario
                    
                    
                     

                    this.formData.productos = [];

                    if (document.getElementById('insumos').checked) this.formData.productos.push("Insumos");
                    if (document.getElementById('accesorios').checked) this.formData.productos.push("Accesorios");
                    if (document.getElementById('maquinas').checked) this.formData.productos.push("Máquinas");
                    if (document.getElementById('cursos').checked) this.formData.productos.push("Cursos y Talleres");

                    if (this.validateForm()) {
                       


                        fetch('https://cafeetrusca.com/api/newsLetter', {
                        method: "POST",
                        body: JSON.stringify(this.formData),
                        mode: 'cors',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                        })
                        .then(response => {
                            botonen.disabled = false;
                        
                        if (response.ok) {
                            Swal.fire({
                            icon: 'success',
                            title: 'Registro exitoso',
                            text: 'Tu formulario fue enviado correctamente.',
                            }).then(() => {
                            location.reload();
                            });
                        } else {
                            throw new Error('Error en la respuesta');
                        }
                        })
                        .catch(() => {
                        //this.closeLoading(); // Cerrar el loading en caso de error
                        botonen.disabled = false;
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: 'Ocurrió un error al enviar el formulario.',
                        });
                        });
                    }
                }
            }
        });

        app.mount('#app');
    </script>

   
    

</body>